<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <title>Happy 20th Birthday, Flora!</title>
    <link rel="stylesheet" href="http://cache.amap.com/lbs/static/main1119.css"/>
    <script src="http://cache.amap.com/lbs/static/es5.min.js"></script>
    <script type="text/javascript" src="http://webapi.amap.com/maps?v=1.4.6&key=apikey"></script>
    <script type="text/javascript" src="http://cache.amap.com/lbs/static/addToolbar.js"></script>
</head>
<body onload="geocoder()">
<div id="container"></div>

<div id="tip">    
    <span id="result"></span>
</div>

<script type="text/javascript">
    var map = new AMap.Map("container", {resizeEnable: true});
    var lnglats = [
	[106.449715,29.581207],
	[106.460012,29.567237],
	[106.53766,29.552892],
	[106.299541,29.592452],
	[106.597179,29.555954],
	[106.297265,29.602448],
	[106.538306,29.550082],
	[106.581482,29.569963],
	[106.553813,29.561573],
	[106.547468,29.563194],
	[106.586625,29.556232],
	[106.577875,29.559171],
	[106.512762,29.536136],
	[106.423756,29.816263]
    ];
    var text = [
	'磁器口。',
	'重庆大学。',
	'李子坝。',
	'虎溪。',
	'南岸。',
	'川美虎溪。',
	'鹅岭公园。',
	' 千厮门，江北。',
	'人民大礼堂。',
	'中山四路。',
	'索道。',
	'WFC。',
	'龙湖时代天街。',
	'天生轻轨站。'
    ]
    var infoWindow = new AMap.InfoWindow({offset: new AMap.Pixel(0, -30)});
    for (var i = 0, marker; i < lnglats.length; i++) {
        var marker = new AMap.Marker({
            position: lnglats[i],
            map: map
        });
        marker.content = text[i];
        marker.on('click', markerClick);
        marker.emit('click', {target: marker});
    }
    function markerClick(e) {
        infoWindow.setContent(e.target.content);
        infoWindow.open(map, e.target.getPosition());
    }
    map.setFitView();
    map.setMapStyle('amap://styles/whitesmoke');
</script>

</body>
</html>
